"use strict";(self.webpackChunkexploding_kittens=self.webpackChunkexploding_kittens||[]).push([[346],{1346:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(4942),a=n(1413),d=n(2791),i=n(3014),c=n(3108),l=n(4784),o=n(5014),u=n(3427),s=n(68),p=n(1110),v=n(184),f=function(e){var t=e.isOpen,n=e.handleClose,f=e.cardType,m=e.cards,y=e.id,h=e.uuid,_=e.playerCards,k=e.playersList,x=e.playerDataArr,C=e.iconPack,g=e.setCardTypeSelectionModalOpen,b=e.setSelectedPlayer,w=e.selectedPlayer,Z=e.setCardSelectionModalOpen,j=e.attackCount,N=(0,d.useContext)(u.u).setToast,T=k.reduce((function(e,t){return t!==h&&e.push(x.find((function(e){return e.uid===t}))),e}),[]);return t?(0,v.jsx)(s.Z,{wrapperId:"react-portal-player-selection-modal",children:(0,v.jsx)("div",{className:"player-selection-modal",children:(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsx)("div",{className:"content_block",children:T.map((function(e){return(0,v.jsxs)("div",{className:(null===w||void 0===w?void 0:w.uid)===e.uid?"selected":"",onClick:function(){return function(e){b(e)}(e)},children:[(0,v.jsx)("img",{src:l[C]["".concat(C).concat(e.icon_index+1)],alt:"",width:"65px",height:"65px"}),(0,v.jsx)("p",{children:e.username})]},e.uid)}))}),(0,v.jsx)("div",{className:"btn_block",children:(0,v.jsx)(p.Z,{text:w?"Go":"Exit",onClick:function(){var e,t,d;if(w)if((null===(e=m[f])||void 0===e?void 0:e.type)===o.w.favor)null!==(d=_[w.uid])&&void 0!==d&&d.length?(0,i.r7)((0,i.JU)(c.db,"game_rooms_kitten",y),{player_cards:(0,a.Z)((0,a.Z)({},_),{},(0,r.Z)({},h,_[h].filter((function(e){return e!==f})))),out_card_deck:(0,i.vr)(f),game_moves:(0,i.vr)({uid:h,cardType:m[f].type,favorPlayerUid:w.uid})}):N({type:"danger",text:"The player has no cards"});else if((null===(t=m[f])||void 0===t?void 0:t.type)===o.w.targetedAttack)(0,i.r7)((0,i.JU)(c.db,"game_rooms_kitten",y),{player_cards:(0,a.Z)((0,a.Z)({},_),{},(0,r.Z)({},h,_[h].filter((function(e){return e!==f})))),out_card_deck:(0,i.vr)(f),game_moves:(0,i.vr)({uid:h,cardType:m[f].type,newCurrentPlayerUid:w.uid,oldAttackCount:j,newAttackCount:2}),attack_count:2,current_player_uid:w.uid});else if("combo_2"===f){var l;null!==(l=_[w.uid])&&void 0!==l&&l.length?Z(!0):N({type:"danger",text:"The player has no cards"})}else"combo_3"===f&&g(!0);n()}})})]})})}):null}},68:function(e,t,n){var r=n(885),a=n(2791),d=n(4164);t.Z=function(e){var t=e.children,n=e.wrapperId,i=void 0===n?"react-portal-wrapper":n,c=(0,a.useState)(null),l=(0,r.Z)(c,2),o=l[0],u=l[1];if((0,a.useLayoutEffect)((function(){var e=document.getElementById(i),t=!1;return e||(t=!0,e=function(e){var t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t}(i)),u(e),function(){t&&e.parentNode&&e.parentNode.removeChild(e)}}),[i]),null!==o)return(0,d.createPortal)(t,o)}}}]);
//# sourceMappingURL=346.a075906f.chunk.js.map